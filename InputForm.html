<!DOCTYPE html>
<html>
  <head>
      <!--meta is used to store the meta data,character set etc-->
    <meta name="viewport" content="width=device-width" />
    <title>Sample Form</title>
    <link rel="stylesheet" href="./css/form.css" />
    <!--using media query in html tag-->
    <link rel="stylesheet" href="./css/temp.css" media = "(min-width:400px) and (max-width:500px)"/>
  </head>
  <body>
    <header>HTML-Form Elements</header>
    <!--Create a form-->
    <form>
      <div>
        <label for="name">Enter your name:</label>
        <input type="text" id="name" required placeholder="Name" />
        <error id="errorName" for="name"></error>
      </div>
      <div>
        <label id="pass" for="pwd">Enter your password:</label>
        <input type="password" id="pwd" required placeholder="Password" />
        <error id="errPwd" for="pwd"></error>
      </div>
      <div>
        <label for="email">Enter your email Id:</label>
        <input type="email" id="email" required placeholder="Email" />
        <error id="errorEmail" for="email"></error>
      </div>
      <div>
        <label for="url">Enter your URL:</label>
        <input type="url" id="url" required placeholder="Site URL" />
        <error for="url"></error>
      </div>
      <div>
        <label for="phone">Enter your Phone Number:</label>
        <input type="tel" id="phone" required placeholder="Contact Number" />
        <error id="errorMobile" for="phone"></error>
      </div>
      <div>
        <label for="search">Enter your search input:</label>
        <input type="search" id="search" required placeholder="Search" />
        <error for="search"></error>
      </div>
      <div>
        <label for="date">Select your BirthDate:</label>
        <input type="datetime-local" required id="date" />
      </div>
      <div>
        <label for="salary">Salary:</label>
        <input
          type="range"
          id="salary"
          min="30000"
          required
          max="50000"
          step="100"
          value="40000"
        />
        <output id="salaryOp" for="salary">40000</output>
      </div>
      <div>
        <button>Submit</button>
      </div>
    </form>
    <script>
        /*UC1. Name Validation */
        const name = document.querySelector("#name");
        const nameError = document.querySelector("#errorName");
        name.addEventListener('input',function(){
            let nameRegex = RegExp('^[A-Z]{1}[a-z]{2,}$');
            if(nameRegex.test(name.value))
            nameError.textContent="";
            else
            nameError.textContent="Invalid Name";
        });
        /*UC2. Email Validation */
        const email = document.querySelector("#email");
        const emailError = document.querySelector("#errorEmail");
        email.addEventListener('input',function(){
            let emailRegex = RegExp('(^[a-z]+)(([\. \+ \-]?[a-z A-Z 0-9])*)@(([0-9 a-z]+[\.]+[a-z]{3})+([\.]+[a-z]{2,3})?$)');
            if(emailRegex.test(email.value))
            emailError.textContent="";
            else
            emailError.textContent="Invalid Email";
        });
        /*UC-3 Mobile Number Validation*/
        const contact = document.querySelector("#phone");
        const errorContact = document.querySelector("#errorMobile");
        contact.addEventListener('input',function(){
            let mobileRegex = RegExp('^[91]+[\\s]+[0-9]{10}$');
            if(mobileRegex.test(contact.value))
            errorContact.textContent="";
            else
            errorContact.textContent="Invalid Mobile Number";
        });
         /*UC-4 Password Validation*/
         const password = document.querySelector("#pwd");
        const errPwd = document.querySelector("#errPwd");
        password.addEventListener('input',function(){
            let pwdRegex = RegExp("(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?!.*[<>`])(?=[^.,:;'!@#$%^&*\\-_+=|(){}[?]*[.,:;'!@#$%^&*\\-_+=|(){}[?][^.,:;'!@#$%^&*\\-_+=|(){}[?]*$).{8,}$");
            if(pwdRegex.test(password.value))
            errPwd.textContent="";
            else
            errPwd.textContent="Invalid Password";
        });
        /*using media query in js*/
        const mediaQuery = window.matchMedia("(max-width:320px)");
        mediaQuery.addListener(function(){

            if(mediaQuery.matches){
                console.log("Rendered for 320px and lesser");
        }
        });
        
        /*Salary range setter*/
      const salary = document.querySelector("#salary");
      const output = document.querySelector("#salaryOp");
      output.textContent = salary.value;
      salary.addEventListener("input", function () {
        output.textContent = salary.value;
      });
    </script>
  </body>
</html>
